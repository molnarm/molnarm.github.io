var Szentiras_API=function(){function e(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e,t)):n=null,n}function t(t,i,a,s){n&&n.abort();var o=t+i+"/"+a,r=function(){try{if(4===n.readyState){if(200===n.status)return void s(JSON.parse(n.responseText));s(null)}}catch(e){console&&console.log&&console.log(e.message)}};n=e("GET",o),n.onreadystatechange=r,n.send()}var n;return{request:t}}(),Szentiras=function(){function e(n){var i,a,s,o,r,l;if(n=n&&n.firstChild)do{if(a=n.nextSibling,s=n.parentNode,1===n.nodeType&&-1===w.indexOf(n.nodeName.toLowerCase()))e(n);else if(3===n.nodeType){for(r=n.data;i=N.exec(r);)l=RegExp.leftContext,r=RegExp.rightContext,o=t(i),o&&(s.insertBefore(D.createTextNode(l),s.insertBefore(o,n)),N.lastIndex=0);s.replaceChild(D.createTextNode(r),n)}}while(n=a)}function t(e){var t=D.createElement("a"),n=encodeURI(e[1].replace(/\s/g,""));return t.className+=" ige-link",t.appendChild(D.createTextNode(e[0])),t.setAttribute("data-ige",e[1]),t.setAttribute("data-ref",n),t.target="_blank",t.href=E+y+"/"+n,t.onmouseover=function(e){clearTimeout(b),clearTimeout(C),c(),p(t),b=setTimeout(function(){m.style.display="block",g.scrollTop=0},k.tipShow)},t.onmouseout=function(){clearTimeout(b),m&&(clearTimeout(C),C=setTimeout(function(){c()},k.tipHide))},t}function n(){if(H[y]&&H[y][x])return void i(H[y][x]);T(A,x,y,function(e){if(!e)return void(g.textContent="A betöltés sikertelen :-(");i(e)})}function i(e){try{if(e&&e.error)r(g,e.error);else if(e&&e.valasz)if(e.valasz.hiba)r(g,e.valasz.hiba);else if(e.valasz.versek){if(e.valasz.versek.length){var t=e.valasz.versek;return a(t),H[y]||(H[y]={}),H[y][x]=e,void(g.scrollTop=0)}return void r(g,"Nem található a kért szöveg, talán egy másik fordításban?")}}catch(e){console&&console.log&&console.log(e.message)}r(g,"Valami baj van a szöveggel...")}function a(e){for(var t,n,i,a,l,d,p=new DOMParser,c=0;g.firstChild;)g.removeChild(g.firstChild);for(t=0;t<e.length;t++)e[t].szoveg&&(a=e[t].szoveg.trim(),k.showNumbers&&(d=o(e[t]),d.fejezet!==c&&(i=D.createElement("span"),i.className="konyv",r(i,d.fejezet),g.appendChild(i),g.appendChild(D.createTextNode(" ")),c=d.fejezet),l=D.createElement("sup"),r(l,d.vers),g.appendChild(l)),k.enableFormatting?(n=p.parseFromString(a,"text/html"),n.body&&n.body.firstChild&&"parserError"!=n.body.firstChild.nodeName&&s(g,n.body.childNodes)):g.appendChild(D.createTextNode((a.replace(/<[^>]+>/g," ")+" ").replace(/\s+/g," "))));g.scrollTop=0}function s(e,t){var n,i,a=/br|i|em|u|b|strong|center|span|sup/i;n=t[0];do{i=n.nextSibling,3===n.nodeType?(n.textContent+=" ",e.appendChild(n)):a.test(n.nodeName)&&(n.childNodes.length>0&&s(n,n.childNodes),e.appendChild(n))}while(n=i)}function o(e){var t=e.hely.gepi.split("_");return{fejezet:parseInt(t[1]),vers:parseInt(t[2])}}function r(e,t){e.textContent=t}function l(){var e,t,i,a,s;m=D.createElement("div"),g=D.createElement("div"),g.className+="igemutato-szoveg",m.appendChild(g),e=D.createElement("div"),e.className+="igemutato-igehely",m.appendChild(e),m.id="igemutato-tooltip",m.onmouseover=function(){clearTimeout(C)},m.onmouseout=function(e){(e.toElement||e.relatedTarget)&&(clearTimeout(C),C=setTimeout(function(){c()},k.tipHide))},g.style.fontSize=k.fontSize+"px",g.style.height=k.tipH-30+"px",t=D.createElement("div"),z=D.createElement("a"),z.target="_blank",t.appendChild(z),v=D.createElement("select");for(var o=0;o<S.length;o++)s=D.createElement("option"),s.value=S[o],r(s,S[o]),y===S[o]&&(s.selected=!0),v.appendChild(s);v.onchange=function(){y=v.value,z.href=E+y+"/"+x,n()},i=D.createElement("a"),i.href=E,i.target="_blank",r(i,"szentiras.eu »"),a=D.createElement("span"),a.appendChild(i),e.appendChild(a),e.appendChild(v),e.appendChild(t),m.style.display="none",R.appendChild(m)}function d(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||B.scrollTop||R.scrollTop)-B.clientTop,left:t.left+(window.pageXOffset||B.scrollLeft||R.scrollLeft)-B.clientLeft}}function p(e){var t=e.getAttribute("data-ige"),i=e.getAttribute("data-ref"),a=e.getBoundingClientRect(),s=d(e),o=B.clientWidth||window.innerWidth,l=e.offsetHeight;z.href=e.href,r(z,t),r(g,"Betöltés..."),x=i,n(),m.style.top=(a.top>k.tipH+k.tipD?s.top-k.tipH-k.tipD:s.top+l+k.tipD)+"px",m.style.left=(s.left+k.tipW>o?o-k.tipW-k.tipD:s.left)+"px",m.style.width=k.tipW+"px",m.style.height=k.tipH+"px"}function c(){m.style.display="none",x=null}function u(e){for(var t in e)k[t]=e[t]}function f(t){y=k.forditas,w=k.excludeTags.split(","),l(),e(t)}function h(e){T=e}var m,g,z,v,b,C,T,y,x,w,k={forditas:"SZIT",tipW:300,tipH:200,fontSize:16,tipD:5,tipShow:200,tipHide:500,excludeTags:"head,script,input,select,textarea,h1,h2,h3,a",enableFormatting:!0,showNumbers:!1},N=/(?:^|[^\w\u00C0-\u017F])((?:[12](?:K(?:[io]r|rón)|Makk?|Pé?t(?:er)?|Sám|T(?:h?essz?|im))|[1-3]Já?n(?:os)?|[1-5]Móz(?:es)?|(?:Ap)?Csel|A(?:gg?|bd)|Ám(?:ós)?|B(?:ár|[ií]r(?:ák)?|ölcs)|Dán|É(?:sa|zs|n(?:ek(?:ek|Én)?)?)|E(?:f(?:éz)?|szt?|z(?:s?dr?)?)|Fil(?:em)?|Gal|H(?:a[bg]|ós)|Iz|J(?:ak|á?n(?:os)?|e[lr]|o(?:el)?|ó(?:[bn]|zs|el)|[Ss]ir(?:alm?)?|úd(?:ás)?|ud(?:it)?)|K(?:iv|ol)|L(?:ev|u?k(?:ács)?)|M(?:al(?:ak)?|á?té?|(?:ár)?k|ik|Törv)|N[áe]h|(?:Ó|O)z|P(?:él|ré)d|R(?:óm|[uú]th?)|S(?:ir(?:alm?)?|ír|z?of|zám)|T(?:er|it|ób)|Z(?:ak|of|s(?:olt|id)?))\.?(?:\s*[0-9]{1,3}(?:[,:]\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?(?:\.\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?)*)?(?:\s*[-–—]\s*[0-9]{1,3}(?:[,:]\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?(?:\.\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?)*)?)?(?:\s*[\|;]\s*[0-9]{1,3}(?:[,:]\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?(?:\.\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?)*)?(?:\s*[-–—]\s*[0-9]{1,3}(?:[,:]\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?(?:\.\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?)*)?)?)*))(?:(?=[^\w\u00C0-\u017F])|$)/g,S=["KNB","SZIT","KG","UF","RUF","BD","STL"],E="https://szentiras.eu/",A=E+"api/idezet/",H={},D=document,R=D.body,B=D.documentElement;return{setConfig:u,start:f,patchApi:h}}(),css=document.createElement("link");css.setAttribute("rel","stylesheet"),css.setAttribute("type","text/css"),css.setAttribute("href","https://molnarm.github.io/igemutato.min.css"),document.getElementsByTagName("head")[0].appendChild(css),window.igemutato&&window.igemutato.config&&Szentiras.setConfig(window.igemutato.config),Szentiras.patchApi(Szentiras_API.request),Szentiras.start(document.body);