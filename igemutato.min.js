var Szentiras=function(){function e(n){var i,a,s,o,r,l;if(n=n&&n.firstChild)do{if(a=n.nextSibling,s=n.parentNode,1===n.nodeType&&-1===w.indexOf(n.nodeName.toLowerCase()))e(n);else if(3===n.nodeType){for(r=n.data;i=N.exec(r);)l=RegExp.leftContext,r=RegExp.rightContext,o=t(i),o&&(s.insertBefore(D.createTextNode(l),s.insertBefore(o,n)),N.lastIndex=0);s.replaceChild(D.createTextNode(r),n)}}while(n=a)}function t(e){var t=D.createElement("a"),n=encodeURI(e[1].replace(/\s/g,""));return t.className+=" ige-link",t.appendChild(D.createTextNode(e[0])),t.setAttribute("data-ige",e[1]),t.setAttribute("data-ref",n),t.target="_blank",t.href=S+y+"/"+n,t.onmouseover=function(e){clearTimeout(b),clearTimeout(C),u(),c(t),b=setTimeout(function(){m.style.display="block",g.scrollTop=0},k.tipShow)},t.onmouseout=function(){clearTimeout(b),m&&(clearTimeout(C),C=setTimeout(function(){u()},k.tipHide))},t}function n(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e,t)):n=null,n}function i(){if(T&&T.abort(),A[y]&&A[y][x])return s(A[y][x]),void(g.scrollTop=0);var e=H+x+"/"+y,t=function(){try{if(4===T.readyState&&200===T.status)return void a(JSON.parse(T.responseText))}catch(e){console&&console.log&&console.log(e.message)}0!==T.readyState&&(g.textContent="A betöltés sikertelen :-(")};T=n("GET",e),T.onreadystatechange=t,T.send()}function a(e){try{if(e&&e.error)l(g,e.error);else if(e&&e.valasz)if(e.valasz.hiba)l(g,e.valasz.hiba);else if(e.valasz.versek){if(e.valasz.versek.length){var t=e.valasz.versek;return s(t),A[y]||(A[y]={}),A[y][x]=t,void(g.scrollTop=0)}return void l(g,"Nem található a kért szöveg, talán egy másik fordításban?")}}catch(e){console&&console.log&&console.log(e.message)}l(g,"Valami baj van a szöveggel...")}function s(e){for(var t,n,i,a,s,d,p=new DOMParser,c=0;g.firstChild;)g.removeChild(g.firstChild);for(t=0;t<e.length;t++)a=e[t].szoveg.trim(),k.showNumbers&&(d=r(e[t]),d.fejezet!==c&&(i=D.createElement("span"),i.className="konyv",l(i,d.fejezet),g.appendChild(i),g.appendChild(D.createTextNode(" ")),c=d.fejezet),s=D.createElement("sup"),l(s,d.vers),g.appendChild(s)),k.enableFormatting?(n=p.parseFromString(a,"text/html"),n.body&&n.body.firstChild&&"parserError"!=n.body.firstChild.nodeName&&o(g,n.body.childNodes)):g.appendChild(D.createTextNode((a.replace(/<[^>]+>/g," ")+" ").replace(/\s+/g," ")))}function o(e,t){var n,i,a=/br|i|em|u|b|strong|center|span|sup/i;n=t[0];do{i=n.nextSibling,3===n.nodeType?(n.textContent+=" ",e.appendChild(n)):a.test(n.nodeName)&&(n.childNodes.length>0&&o(n,n.childNodes),e.appendChild(n))}while(n=i)}function r(e){var t=e.hely.gepi.toString();return{fejezet:parseInt(t.substring(3,6),10),vers:parseInt(t.substring(6,9),10)}}function l(e,t){e.textContent=t}function d(){var e,t,n,a,s;m=D.createElement("div"),g=D.createElement("div"),g.className+="igemutato-szoveg",m.appendChild(g),e=D.createElement("div"),e.className+="igemutato-igehely",m.appendChild(e),m.id="igemutato-tooltip",m.onmouseover=function(){clearTimeout(C)},m.onmouseout=function(e){(e.toElement||e.relatedTarget)&&(clearTimeout(C),C=setTimeout(function(){u()},k.tipHide))},g.style.fontSize=k.fontSize+"px",g.style.height=k.tipH-30+"px",t=D.createElement("div"),z=D.createElement("a"),z.target="_blank",t.appendChild(z),v=D.createElement("select");for(var o=0;o<E.length;o++)s=D.createElement("option"),s.value=E[o],l(s,E[o]),y===E[o]&&(s.selected=!0),v.appendChild(s);v.onchange=function(){y=v.value,z.href=S+y+"/"+x,i()},n=D.createElement("a"),n.href=S,n.target="_blank",l(n,"szentiras.hu »"),a=D.createElement("span"),a.appendChild(n),e.appendChild(a),e.appendChild(v),e.appendChild(t),m.style.display="none",R.appendChild(m)}function p(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||B.scrollTop||R.scrollTop)-B.clientTop,left:t.left+(window.pageXOffset||B.scrollLeft||R.scrollLeft)-B.clientLeft}}function c(e){var t=e.getAttribute("data-ige"),n=e.getAttribute("data-ref"),a=e.getBoundingClientRect(),s=p(e),o=B.clientWidth||window.innerWidth,r=e.offsetHeight;z.href=e.href,l(z,t),l(g,"Betöltés..."),x=n,i(),m.style.top=(a.top>k.tipH+k.tipD?s.top-k.tipH-k.tipD:s.top+r+k.tipD)+"px",m.style.left=(s.left+k.tipW>o?o-k.tipW-k.tipD:s.left)+"px",m.style.width=k.tipW+"px",m.style.height=k.tipH+"px"}function u(){m.style.display="none",x=null}function f(e){for(var t in e)k[t]=e[t]}function h(t){y=k.forditas,w=k.excludeTags.split(","),d(),e(t)}var m,g,z,v,b,C,T,y,x,w,k={forditas:"SZIT",tipW:300,tipH:200,fontSize:16,tipD:5,tipShow:200,tipHide:500,excludeTags:"head,script,input,select,textarea,h1,h2,h3,a",enableFormatting:!0,showNumbers:!1},N=/(?:^|[^\w\u00C0-\u017F])((?:[12](?:K(?:[io]r|rón)|Makk?|Pé?t(?:er)?|Sám|T(?:h?essz?|im))|[1-3]Já?n(?:os)?|[1-5]Móz(?:es)?|(?:Ap)?Csel|A(?:gg?|bd)|Ám(?:ós)?|B(?:ár|[ií]r(?:ák)?|ölcs)|Dán|É(?:sa|zs|n(?:ek(?:ek|Én)?)?)|E(?:f(?:éz)?|szt?|z(?:s?dr?)?)|Fil(?:em)?|Gal|H(?:a[bg]|ós)|Iz|J(?:ak|á?n(?:os)?|e[lr]|o(?:el)?|ó(?:[bn]|zs|el)|[Ss]ir(?:alm?)?|úd(?:ás)?|ud(?:it)?)|K(?:iv|ol)|L(?:ev|u?k(?:ács)?)|M(?:al(?:ak)?|á?té?|(?:ár)?k|ik|Törv)|N[áe]h|(?:Ó|O)z|P(?:él|ré)d|R(?:óm|[uú]th?)|S(?:ir(?:alm?)?|ír|z?of|zám)|T(?:er|it|ób)|Z(?:ak|of|s(?:olt|id)?))\.?(?:\s*[0-9]{1,3}(?:[,:]\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?(?:\.\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?)*)?(?:\s*[-–—]\s*[0-9]{1,3}(?:[,:]\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?(?:\.\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?)*)?)?(?:\s*[\|;]\s*[0-9]{1,3}(?:[,:]\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?(?:\.\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?)*)?(?:\s*[-–—]\s*[0-9]{1,3}(?:[,:]\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?(?:\.\s*[0-9]{1,2}[a-z]?(?:\s*[-–—]\s*[0-9]{1,2}[a-z]?\b(?![,:]))?)*)?)?)*))(?:(?=[^\w\u00C0-\u017F])|$)/g,E=["KNB","SZIT","KG","UF","RUF","BD","STL"],S="https://szentiras.hu/",H=S+"api/idezet/",A={},D=document,R=D.body,B=D.documentElement;return{setConfig:f,start:h}}(),css=document.createElement("link");css.setAttribute("rel","stylesheet"),css.setAttribute("type","text/css"),css.setAttribute("href","https://molnarm.github.io/igemutato.min.css"),document.getElementsByTagName("head")[0].appendChild(css),window.igemutato&&window.igemutato.config&&Szentiras.setConfig(window.igemutato.config),Szentiras.start(document.body);